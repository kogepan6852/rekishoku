<ion-view title="" class="shop-detail-view">
  <ion-content has-header="true" class="detail store">

    <!-- MAIN IMAGE -->
    <div class="row no-padding">
      <div class="top-image no-padding">
        <img ng-src="{{shop.image.url}}" src="../images/dummy-img.png" class="hidden-xs">
        <img ng-src="{{shop.image.md.url}}" src="../images/dummy-img.png" class="visible-xs">
      </div>
    </div>
    <div class="row no-padding no-margin" ng-if="shop.image_quotation_name">
      <div class="image-quotation">
        <span ng-bind-html="'POST.PHOTO_BY'|translate"></span>
        <a href="{{shop.image_quotation_url}}" target="_blank">{{shop.image_quotation_name}}</a>
      </div>
    </div>

    <!-- MAIN INFORMATION -->
    <div class="row row-bottom">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2">
        <div class="information">
          <div class="name">
            <h4>STORE</h4>
            <h1 ng-bind-html="shop.name"></h1>
          </div>
          <div>
            <info-tag name="{{period.name}}" ng-repeat="period in periods"></info-tag>
            <info-tag name="{{person.name}}" ng-repeat="person in people"></info-tag>
          </div>
          <div class="tel">
            <h2>TEL <span ng-bind-html="shop.phone_no"></span></h2>
          </div>
          <div class="other">
            <p>
              <span ng-bind-html="shop.province"></span>、
              <span ng-if="categories" category-list data="categories" ></span>
              <br>
              <span ng-bind-html="'SHOP.DAYTIME'|translate"></span>
              <span class="price" ng-bind-html="price.daytime"></span>
              <span ng-bind-html="'SHOP.NIGHTTIME'|translate"></span>
              <span class="price" ng-bind-html="price.nighttime"></span>
            </p>
            <star label="true" count="rating.average"></star>
          </div>
        </div>
      </div>
    </div>

    <hr>

    <!-- DESCRIPTION -->
    <div class="row padding-top padding-bottom">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2">
        <div><p ng-bind-html="shop.description | newlines"></p></div>
      </div>
    </div>

    <!-- SUB IMAGE -->
    <div class="row no-padding">
      <div class="top-image">
        <img ng-src="{{shop.subimage.url}}" src="../images/dummy-img.png" class="hidden-xs">
        <img ng-src="{{shop.subimage.md.url}}" src="../images/dummy-img.png" class="visible-xs">
      </div>
    </div>
    <div class="row no-padding no-margin" ng-if="shop.image_quotation_name">
      <div class="image-quotation">
        <span ng-bind-html="'POST.PHOTO_BY'|translate"></span>
        <a href="{{shop.image_quotation_url}}" target="_blank">{{shop.image_quotation_name}}</a>
      </div>
    </div>

    <!-- MENU -->
    <div class="row padding-bottom">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2 sub-info">
        <div class="menu-list">
          <div class="info-title"><span ng-bind-html="'SHOP.MENU'|translate"></span></div>
          <div ng-bind-html="shop.menu | newlines"></div>
        </div>
      </div>
    </div>

    <!-- ADVERTISEMENT -->
    <div class="row bg-gray padding-top padding-bottom">
      <div class="col-xs-12">
        <div class="ad-main">
          <div class="hidden-md hidden-xs" ng-bind-html="ads.lg"></div>
          <div class="visible-md" ng-bind-html="ads.md"></div>
          <div class="visible-xs" ng-bind-html="ads.sm"></div>
        </div>
      </div>
    </div>

    <!-- SUB INFORMAION -->
    <div class="row padding-top padding-bottom">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2">
        <div class="sub-info">

          <!-- STORE ADDRESS -->
          <div ng-show="shop.province">
            <div class="info-title">
              <a target="_blank" href="http://maps.google.co.jp/maps?t=m&z=16&q={{shop.province + shop.city + shop.address1}}">
                <span ng-bind-html="'SHOP.ADDRESS'|translate"></span>
                <i class="ion-arrow-right-b"></i>
              </a>
            </div>
            <div>
              <a target="_blank" href="http://maps.google.co.jp/maps?t=m&z=16&q={{shop.province + shop.city + shop.address1}}"
                ng-bind-html="shop.province + shop.city + shop.address1 + shop.address2"></a>
            </div>
          </div>
          <!-- PHONE NO -->
          <div ng-show="shop.phone_no">
            <div class="info-title">
              <a href="tel:{{shop.phone_no | delHyphen}}">
                <span ng-bind-html="'SHOP.PHONE_NO'|translate"></span>
                <i class="ion-arrow-right-b"></i>
              </a>
            </div>
            <div><a href="tel:{{shop.phone_no | delHyphen}}" ng-bind-html="shop.phone_no"></a></div>
          </div>
          <!-- WEB URL -->
          <div ng-show="shop.url">
            <div class="info-title">
              <a target="_blank" href="{{shop.url}}">
                <span ng-bind-html="'SHOP.WEB'|translate"></span>
                <i class="ion-arrow-right-b"></i>
              </a>
            </div>
            <div class="url"><a target="_blank" href="{{shop.url}}" ng-bind-html="shop.url"></a></div>
          </div>
          <!-- Business time -->
          <div>
            <div class="info-title">
              <span ng-bind-html="'SHOP.TIME'|translate"></span>
            </div>
            <div ng-bind-html="shop.shop_hours | newlines"></div>
          </div>

        </div>
      </div>
    </div>

    <!-- MAP -->
    <div class="row padding-bottom">
      <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
        <div class="detail-map" ng-if="shop.province">
          <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" options="options" bounds="map.bounds">
              <ui-gmap-markers models="targetMarkers" coords="'self'" icon="'icon'">
              </ui-gmap-markers>
          </ui-gmap-google-map>
        </div>
      </div>
    </div>

    <!-- SNS ICONS -->
    <div class="row padding-bottom">
      <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 no-padding">
        <div class="sns-icons">
          <a class="button facebook" ng-click ="postToFeed()"></a>
          <a class="button twitter" target="_blank" href="http://twitter.com/share?text={{post.title}}&url={{urlTwitter}}&hashtags=歴食"></a>
          <span class="button like">
            <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Frekishoku&width=71&layout=box_count&action=like&show_faces=true&share=false&height=65&appId=813296825366564"
              width="71" height="65" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
          </span>
        </div>
      </div>
    </div>

    <hr>

    <!-- POST -->
    <div class="row padding-top" ng-if="posts.length!=0">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2">
        <h2>{{'POST.EPISODE'|translate}}</h2>
      </div>
    </div>
    <div class="row post-shops row-bottom" ng-if="posts.length!=0">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-lg-offset-2">
        <div class="item-detail-list">
          <post-item post="post" now-tab="nowTab" ng-repeat="post in posts"></post-item>
        </div>
      </div>
    </div>

  </ion-content>
</ion-view>
