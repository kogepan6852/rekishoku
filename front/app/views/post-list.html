<ion-view title="" ng-init="postListInit()">
  <ion-nav-bar class="header" animation="slide-left-right" nav-transition="ios">
    <div class="bar bar-header top">
      <h1 class="title hidden">歴食</h1>
      <div class="logo"></div>
    </div>
    <nav class="fix-nav" ng-controller="HeaderCtrl">
      <a href="" ng-click="toggleRight()" ><i class="icon ion-navicon-round"></i></a>
    </nav>
  </ion-nav-bar>

  <div class="bar bar-subheader bar-clear edit-menu" align="right">
    <button class="button button-assertive icon-left ion-trash-a" ng-click="doDelete()" ng-if="showDeleteButton">削除</button>
    <button class="button button-dark icon-left ion-plus-round" ng-click="openModalPost()" ng-if="!showDeleteButton" ng-show="isLogin">新規投稿</button>
  </div>

  <ion-content class="has-subheader">
    <table class="table table-striped item-table">
      <thead>
        <tr>
          <th class=""></th>
          <th class="post-title">タイトル</th>
          <th class="post-content hidden-xs">本文</th>
          <th class="post-category hidden-xs">カテゴリー</th>
          <th class="delete-button"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="result in results">
          <td class="vertical-align">
            <button class="button icon ion-checkmark-round checkbox" ng-class="{active: result.checked}" ng-click="onCheckbox(result)"></button>
          </td>
          <td>{{result.title}}</td>
          <td class="hidden-xs">{{result.content | limitTo:100}}...</td>
          <td class="hidden-xs">{{result.category_name}}</td>
          <td align="right">
            <button class="button button-dark" ng-click="openPopoverPostMenu($event, $index)"><i class="icon ion-android-more-vertical"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
 </ion-content>
</ion-view>
